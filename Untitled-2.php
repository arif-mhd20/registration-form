#try to solve <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>PHP IO</title> </head> <body> <h1>PHP IO</h1> <?php define("filepath", "data.txt"); $firstName = $lastName = ""; $firstNameErr = $lastNameErr = ""; $successfulMessage = $errorMessage = ""; $flag = false; if($_SERVER['REQUEST_METHOD'] === "POST") { $firstName = $_POST['firstname']; $lastName = $_POST['lastname']; if(empty($firstName)) { $firstNameErr = "First name can not be empty!"; $flag = true; } if(empty($lastName)) { $lastNameErr = "Last name can not be empty!"; $flag = true; } if(!$flag) { $firstName = test_input($firstName); $lastName = test_input($lastName); $data =[  ];array_push(data,  array("firstname"=>$firstName, "lastname"=>$lastName)); $data_encode = json_encode($data); $result1 = write($data_encode); if($result1) { $successfulMessage = "Successfully saved."; } else { $errorMessage = "Error while saving."; } } } function write($content) { $resource = fopen(filepath, "a"); $fw = fwrite($resource, $content . "\n"); fclose($resource); return $fw; } function test_input($data) { $data = trim($data); $data = stripslashes($data); $data = htmlspecialchars($data); return $data; } ?> <form action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>" method="POST"> <label for="firstname">First Name <span style="color: red;">*</span>: </label> <input type="text" name="firstname" id="firstname"> <span style="color: red;"><?php echo $firstNameErr; ?></span> <br><br> <label for="lastname">Last Name <span style="color: red;">*</span>: </label> <input type="text" name="lastname" id="lastname"> <span style="color: red;"><?php echo $lastNameErr; ?></span> <br><br> <input type="submit" name="submit" value="Register"> </form> <br> <span style="color: green;"><?php echo $successfulMessage; ?></span> <span style="color: red;"><?php echo $errorMessage; ?></span> <?php /*$fileData = read(); $fileDataExplode = explode("\n", $fileData); echo "<ol>"; for($i = 0; $i < count($fileDataExplode) - 1; $i++) { $candidate = json_decode($fileDataExplode[$i]); echo "<li>" . "Firstname: " . $candidate->firstname . " Lastname: " . $candidate->lastname . "</li>"; } echo "</ol>";*/ function read() { $resource = fopen(filepath, "r"); $fz = filesize(filepath); $fr = ""; if($fz > 0) { $fr = fread($resource, $fz); } fclose($resource); return $fr; } ?> </body> </html>